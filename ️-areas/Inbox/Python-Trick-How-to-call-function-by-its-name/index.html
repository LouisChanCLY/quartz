<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Metadata  Association: Domain: [[Domain Root - Python]]  Python Trick How to call function by its name Welcome to a series of short posts each with handy Python tricks that can help you up your game."><title>ðŸª´ Quartz 3.2</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://louischancly.github.io/quartz//icon.png><link href=https://louischancly.github.io/quartz/styles.b54f56dc7e7fdf6be9a4427dc6b0509b.min.css rel=stylesheet><link href=https://louischancly.github.io/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://louischancly.github.io/quartz/js/darkmode.7230926211c2934ae3b42be19ab59403.min.js></script>
<script src=https://louischancly.github.io/quartz/js/util.59b5eb848f398a9b2cf864a089780673.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://louischancly.github.io/quartz/js/popover.37b1455b8f0603154072b9467132c659.min.js></script>
<script src=https://louischancly.github.io/quartz/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://louischancly.github.io/quartz/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://louischancly.github.io/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://louischancly.github.io/quartz/",fetchData=Promise.all([fetch("https://louischancly.github.io/quartz/indices/linkIndex.2a4fb4c45e5249a9abfb8a2fa92826b3.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://louischancly.github.io/quartz/indices/contentIndex.ebff0e7adc280cb92423b398e4a35f35.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const n=new URL(BASE_URL),s=n.pathname,o=window.location.pathname,i=s==o;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts();const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=i&&!1;drawGraph("https://louischancly.github.io/quartz",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2}),initPopover("https://louischancly.github.io/quartz",!0,!0)},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/louischancly.github.io\/quartz\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script defer src=https://louischancly.github.io/quartz/js/semantic-search.2aaf0645c253035a19cffaf67ea7b2d8.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://louischancly.github.io/quartz/>ðŸª´ Quartz 3.2</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><p class=meta>Last updated
Jul 24, 2022
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/%e2%98%80%ef%b8%8f%20areas/Inbox/Python%20Trick%20How%20to%20call%20function%20by%20its%20name.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#metadata>Metadata</a></li><li><a href=#python-trick-how-to-call-function-by-its-name>Python Trick How to call function by its name</a></li><li><a href=#calling-functions>Calling Functions</a></li><li><a href=#solution-1-locals--globals>Solution 1: Locals & Globals</a></li><li><a href=#solution-2-eval>Solution 2: Eval</a></li><li><a href=#solution-3-method-caller>Solution 3: Method Caller</a></li><li><a href=#solution-4-get-attribute>Solution 4: Get Attribute</a></li><li><a href=#closing-thoughts>Closing Thoughts</a></li></ol></nav></details></aside><a href=#metadata><h2 id=metadata><span class=hanchor arialabel=Anchor># </span>Metadata</h2></a><ul><li>Association:</li><li>Domain: <a class="internal-link broken">Domain Root - Python</a></li></ul><a href=#python-trick-how-to-call-function-by-its-name><h2 id=python-trick-how-to-call-function-by-its-name><span class=hanchor arialabel=Anchor># </span>Python Trick How to call function by its name</h2></a><p>Welcome to a series of short posts each with handy Python tricks that can help you up your game. In this blog, we will look into how to call a function by its name.</p><a href=#calling-functions><h2 id=calling-functions><span class=hanchor arialabel=Anchor># </span>Calling Functions</h2></a><p>Say you have a function <code>def f(): pass</code>.</p><p>Can you call the function using just <code>"f"</code>?</p><p>Or in a more complicated case, if you have <code>f1()</code>, <code>f2()</code>, and <code>f3()</code>, and users will be choosing which function by typing in a string, how can that be done?</p><a href=#solution-1-locals--globals><h2 id=solution-1-locals--globals><span class=hanchor arialabel=Anchor># </span>Solution 1: Locals & Globals</h2></a><p>Before we dive into <code>locals</code> and <code>globals</code>, it is important to have some understanding on what <a class="internal-link broken">Namespace</a> is. In a Python runtime, all the defined object (class, function, variable, etc.) are mapped and stored in a dictionary, a.k.a. the namespace.</p><p><code>locals()</code> returns the namespace at a local level - say local variables defined in a function, which will then be part of the <a class="internal-link broken">Local Namespace</a> within the function.</p><p><code>globals()</code> returns the namespace at a global level - say modules imported globally or objects defined globally, which will then be part of the <a class="internal-link broken">Global Namespace</a>, be it within or outside the function.</p><p>Let&rsquo;s say there is a function named <code>my_function</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>my_function</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
</span></span><span class=line><span class=cl>		<span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><p>To call the function with <code>"my_function"</code> using <code>locals</code> and <code>globals</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;my_function&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># calling the function from local namespace</span>
</span></span><span class=line><span class=cl><span class=n>function</span> <span class=o>=</span> <span class=nb>locals</span><span class=p>()[</span><span class=n>s</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>function</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># calling the function from global namespace</span>
</span></span><span class=line><span class=cl><span class=n>function</span> <span class=o>=</span> <span class=nb>globals</span><span class=p>()[</span><span class=n>s</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>function</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>This method with globals/locals is good if the method you need to call is defined in the same namespace you are calling from.</p><p>dictionary that represents the current symbol table of the given source code
difference in namespace</p><p><a href=https://docs.python.org/3/library/functions.html#locals rel=noopener>https://docs.python.org/3/library/functions.html#locals</a>
return dictionary of local namespace i.e. with local objects</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>locals</span><span class=p>()[</span><span class=s2>&#34;myfunction&#34;</span><span class=p>]()</span>
</span></span></code></pre></td></tr></table></div></div><p><a href=https://docs.python.org/3/library/functions.html#globals rel=noopener>https://docs.python.org/3/library/functions.html#globals</a>
return dictionary of global namespace i.e. with global objects</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>globals</span><span class=p>()[</span><span class=s2>&#34;myfunction&#34;</span><span class=p>]()</span>
</span></span></code></pre></td></tr></table></div></div><a href=#solution-2-eval><h2 id=solution-2-eval><span class=hanchor arialabel=Anchor># </span>Solution 2: Eval</h2></a><p>The next option is the well-known <code>eval</code>, a built-in python function that evaluates an arbitrary string expression/compiled code and execute if it is a legal Python expression.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=n>expression</span><span class=p>[,</span> <span class=nb>globals</span><span class=p>[,</span> <span class=nb>locals</span><span class=p>]])</span>
</span></span></code></pre></td></tr></table></div></div><p>To use <code>eval</code>, you only need up to three arguments:</p><ul><li>Expression: the string expression/compiled code that you wan it to evaluate</li><li>Globals: optional dictionary that provides a global namespace to <code>eval</code></li><li>Locals: optional dictionary that provides a local namespace to <code>eval</code></li></ul><blockquote><p>When globals and locals are provided, they are the namespaces of which <code>eval</code> will run based on. Otherwise, <code>eval</code> will use the global and local namespaces that your current code is based on</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;my_function&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># calling the function using eval</span>
</span></span><span class=line><span class=cl><span class=n>function</span> <span class=o>=</span> <span class=nb>eval</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>function</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># you can also run the function directly</span>
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=nb>eval</span><span class=p>(</span><span class=n>s</span><span class=p>)(</span><span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><a href=#solution-3-method-caller><h2 id=solution-3-method-caller><span class=hanchor arialabel=Anchor># </span>Solution 3: Method Caller</h2></a><p>Another method (no pun intended) for doing so is in one of Python&rsquo;s standard library - <code>operator.methodcaller</code>. Unlike the above options, <code>methodcaller</code> fetch you a callable from an object provided. Hence, the following would not work:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>operator</span> <span class=kn>import</span> <span class=n>methodcaller</span>
</span></span><span class=line><span class=cl><span class=n>bar</span> <span class=o>=</span> <span class=n>methodcaller</span><span class=p>(</span><span class=s2>&#34;myfunction&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>bar</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>Instead, the callable needs to be part of an object:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>operator</span> <span class=kn>import</span> <span class=n>methodcaller</span>
</span></span><span class=line><span class=cl><span class=n>foo</span> <span class=o>=</span> <span class=s2>&#34;bar&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># upper is a method of a string object</span>
</span></span><span class=line><span class=cl><span class=n>foo_method</span> <span class=o>=</span> <span class=n>methodcaller</span><span class=p>(</span><span class=s2>&#34;upper&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>foo_method</span><span class=p>(</span><span class=n>foo</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;BAR&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>Another key difference between <code>methodcaller</code> and other options is that any arguments would need to be provided in advance. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>operator</span> <span class=kn>import</span> <span class=n>methodcaller</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># This doesn&#39;t work</span>
</span></span><span class=line><span class=cl><span class=n>foo_method</span> <span class=o>=</span> <span class=n>methodcaller</span><span class=p>(</span><span class=s2>&#34;randint&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>foo_method</span><span class=p>(</span><span class=n>random</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=ne>TypeError</span><span class=p>:</span> <span class=n>randint</span><span class=p>()</span> <span class=n>missing</span> <span class=mi>2</span> <span class=n>required</span> <span class=n>positional</span> <span class=n>arguments</span><span class=p>:</span> <span class=s1>&#39;a&#39;</span> <span class=ow>and</span> <span class=s1>&#39;b&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># This doesn&#39;t work either</span>
</span></span><span class=line><span class=cl><span class=n>foo_method</span> <span class=o>=</span> <span class=n>methodcaller</span><span class=p>(</span><span class=s2>&#34;randint&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>foo_method</span><span class=p>(</span><span class=n>random</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=ne>TypeError</span><span class=p>:</span> <span class=n>methodcaller</span><span class=p>()</span> <span class=n>takes</span> <span class=n>no</span> <span class=n>keyword</span> <span class=n>arguments</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># This works!</span>
</span></span><span class=line><span class=cl><span class=n>foo_method</span> <span class=o>=</span> <span class=n>methodcaller</span><span class=p>(</span><span class=s2>&#34;randint&#34;</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>foo_method</span><span class=p>(</span><span class=n>random</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div><p>Therefore, to use <code>methodcaller</code>, you would need to first be mindful of:</p><ul><li>the location of the method (e.g. which module/class is the method under)</li><li>whether arguments are required to use that method</li></ul><a href=#solution-4-get-attribute><h2 id=solution-4-get-attribute><span class=hanchor arialabel=Anchor># </span>Solution 4: Get Attribute</h2></a><p>Just like <code>operator.methodcaller</code>, <code>getattr</code> is another option that requires prior knowledge of where the method reside. That being said, there are two major differences between the two options:</p><ol><li><code>getattr</code> does not restrict to getting a callable. When using it, do be mindful of whether the object returned is callable or not.</li><li><code>getattr</code> allows you to pass arguments to the returned method while <code>methodcaller</code> requires you to provide it in advance.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl><span class=n>bar</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>random</span><span class=p>,</span> <span class=s1>&#39;randint&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=n>bar</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=mi>2</span>
</span></span></code></pre></td></tr></table></div></div><a href=#closing-thoughts><h2 id=closing-thoughts><span class=hanchor arialabel=Anchor># </span>Closing Thoughts</h2></a><p>Just because you can do it doesn&rsquo;t mean that you should do it.</p><p>Allowing users of a script to dictate the behaviour it using a user-provided string can lead to some undesirable security loophole. Some other infamous security loopholes stemmed from treating unparameterised data as code includes XSS and SQL injection. That being said, Python itself being an interpreted language means there are lower level changes that one can make to create even bigger vulnerability.</p><p>In short, in this tutorial, we have walked through four ways that you can call a method using a string. As a quick revision, here is a table that summarises their behaviours:</p><table><thead><tr><th>Method</th><th>Requires knowledge of location of method</th><th>Return type</th><th>Ability to set argument in advance</th><th>Ability to set argument after returning</th></tr></thead><tbody><tr><td><code>locals</code> or <code>globals</code></td><td>Not as long as the method is in the namespace</td><td>Any</td><td>No</td><td>Yes</td></tr><tr><td><code>eval</code></td><td>Not as long as the method is in the namespace</td><td>Any</td><td>Yes (as arbitrary string)</td><td>Yes</td></tr><tr><td><code>methodcaller</code></td><td>Yes</td><td>Callable</td><td>Yes</td><td>No</td></tr><tr><td><code>getattr</code></td><td>Yes</td><td>Any</td><td>No</td><td>Yes</td></tr></tbody></table><p>Thatâ€™s about it for this blog post! I hope you have found this useful. If you have enjoyed the read, don&rsquo;t forget to leave some claps or even join Medium using my referral link (atÂ <strong>NO</strong>Â additional cost to you).</p><p><a href=https://louis-chan.medium.com/membership rel=noopener>https://louis-chan.medium.com/membership</a></p><p>If you are interested in other Python tricks, I have put together a list of these short blogs for you:</p><ul><li><a href=https://pub.towardsai.net/python-tricks-unpacking-iterables-a1acf8a658a6 rel=noopener>Python Tricks: Unpacking Iterables</a></li><li><a href=https://towardsdatascience.com/python-tricks-flattening-lists-75aeb1102337 rel=noopener>Python Tricks: Flattening Lists</a></li><li><a href=https://towardsdatascience.com/python-tricks-how-to-check-table-merging-with-pandas-cae6b9b1d540 rel=noopener>Python Tricks: How to Check Table Merging with Pandas</a></li><li><a href=https://towardsdatascience.com/python-tricks-simplifying-if-statements-boolean-evaluation-4e10cc7c1e71 rel=noopener>Python Tricks: Simplifying If Statements & Boolean Evaluation</a></li><li><a href=https://towardsdatascience.com/python-tricks-check-multiple-variables-against-single-value-18a4d98d79f4 rel=noopener>Python Tricks: Check Multiple Variables against Single Value</a></li></ul><p>If you would like to read more about how to apply machine learning to trading & investing, here are some other posts that may be of interest:</p><ul><li><a href=https://pub.towardsai.net/genetic-algorithm-for-trading-strategy-optimization-in-python-614eb660990d rel=noopener>Genetic Algorithm for Trading Strategy Optimization in Python</a></li><li><a href=https://medium.com/towards-artificial-intelligence/genetic-algorithm-stop-overfitting-trading-strategies-5df671d5cde1 rel=noopener>Genetic Algorithm â€” Stop Overfitting Trading Strategies</a></li><li><a href=https://pub.towardsai.net/ann-recommendation-system-for-stock-selection-c9751a3a0520 rel=noopener>ANN Recommendation System for Stock Selection</a></li></ul><p><a href=https://www.linkedin.com/in/louis-chan-b55b9287 rel=noopener>https://www.linkedin.com/in/louis-chan-b55b9287</a></p></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://louischancly.github.io/quartz/js/graph.afdb02e537635f9a611b53a988e5645b.js></script></div></div><div id=contact_buttons><footer><p>Made by Jacky Zhao using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2022</p><ul><li><a href=https://louischancly.github.io/quartz/>Home</a></li><li><a href=https://twitter.com/_jzhao>Twitter</a></li><li><a href=https://github.com/jackyzha0>Github</a></li></ul></footer></div></div></body></html>